!function(t){function i(t,i,s){for(var e,h=t.length-1;h>=0;h--)if(4==(e=i/(t[h]*Math.pow(10,s)))||5==e)return e-1;return null}t.jqplot.MeterGaugeRenderer=function(){t.jqplot.LineRenderer.call(this)},t.jqplot.MeterGaugeRenderer.prototype=new t.jqplot.LineRenderer,t.jqplot.MeterGaugeRenderer.prototype.constructor=t.jqplot.MeterGaugeRenderer,t.jqplot.MeterGaugeRenderer.prototype.init=function(s){if(this.diameter=null,this.padding=null,this.shadowOffset=2,this.shadowAlpha=.07,this.shadowDepth=4,this.background="#efefef",this.ringColor="#BBC6D0",this.needleColor="#C3D3E5",this.tickColor="#989898",this.ringWidth=null,this.min,this.max,this.ticks=[],this.showTicks=!0,this.showTickLabels=!0,this.label=null,this.labelHeightAdjust=0,this.labelPosition="inside",this.intervals=[],this.intervalColors=["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.tickRenderer=t.jqplot.MeterGaugeTickRenderer,this.tickPositions=[1,2,2.5,5,10],this.tickSpacing=30,this.numberMinorTicks=null,this.hubRadius=null,this.tickPadding=null,this.needleThickness=null,this.needlePad=6,this.pegNeedle=!0,this._type="meterGauge",t.extend(!0,this,s),this.type=null,this.numberTicks=null,this.tickInterval=null,this.span=180,"circular"==this.type?this.semiCircular=!1:"circular"!=this.type?this.semiCircular=!0:this.semiCircular=this.span<=180,this._tickPoints=[],this._labelElem=null,this.startAngle=(90+(360-this.span)/2)*Math.PI/180,this.endAngle=(90-(360-this.span)/2)*Math.PI/180,this.setmin=!(null!=this.min),this.setmax=!(null!=this.max),this.intervals.length)if(null==this.intervals[0].length||1==this.intervals.length)for(var e=0;e<this.intervals.length;e++)this.intervals[e]=[this.intervals[e],this.intervals[e],this.intervalColors[e]];else if(2==this.intervals[0].length)for(e=0;e<this.intervals.length;e++)this.intervals[e]=[this.intervals[e][0],this.intervals[e][1],this.intervalColors[e]];if(this.ticks.length){if(null==this.ticks[0].length||1==this.ticks[0].length)for(e=0;e<this.ticks.length;e++)this.ticks[e]=[this.ticks[e],this.ticks[e]];this.min=null==this.min?this.ticks[0][0]:this.min,this.max=null==this.max?this.ticks[this.ticks.length-1][0]:this.max,this.setmin=!1,this.setmax=!1,this.numberTicks=this.ticks.length,this.tickInterval=this.ticks[1][0]-this.ticks[0][0],this.tickFactor=Math.floor(parseFloat((Math.log(this.tickInterval)/Math.log(10)).toFixed(11))),this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor-1)),this.numberMinorTicks||(this.numberMinorTicks=1)}else this.intervals.length?(this.min=null==this.min?0:this.min,this.setmin=!1,null==this.max?this.intervals[this.intervals.length-1][0]>=this.data[0][1]&&(this.max=this.intervals[this.intervals.length-1][0],this.setmax=!1):this.setmax=!1):(this.min=null==this.min?0:this.min,this.setmin=!1,null==this.max?(this.max=1.25*this.data[0][1],this.setmax=!0):this.setmax=!1)},t.jqplot.MeterGaugeRenderer.prototype.setGridData=function(t){for(var i=[],s=[],e=(this.startAngle,0);e<this.data.length;e++)i.push(this.data[e][1]),s.push([this.data[e][0]]),e>0&&(i[e]+=i[e-1]);var h=2*Math.PI/i[i.length-1];for(e=0;e<i.length;e++)s[e][1]=i[e]*h;this.gridData=s},t.jqplot.MeterGaugeRenderer.prototype.makeGridData=function(t,i){for(var s=[],e=[],h=(this.startAngle,0);h<t.length;h++)s.push(t[h][1]),e.push([t[h][0]]),h>0&&(s[h]+=s[h-1]);var n=2*Math.PI/s[s.length-1];for(h=0;h<s.length;h++)e[h][1]=s[h]*n;return e},t.jqplot.MeterGaugeRenderer.prototype.draw=function(s,e,h){var n=void 0!=h?h:{},r=0,a=0,l=1;if(h.legendInfo&&"inside"==h.legendInfo.placement){var o=h.legendInfo;switch(o.location){case"nw":case"w":case"sw":r=o.width+o.xoffset;break;case"ne":case"e":case"se":r=o.width+o.xoffset,l=-1;break;case"n":a=o.height+o.yoffset;break;case"s":a=o.height+o.yoffset,l=-1}}this.label&&(this._labelElem=t('<div class="jqplot-meterGauge-label" style="position:absolute;">'+this.label+"</div>"),this.canvas._elem.after(this._labelElem));void 0!=n.shadow?n.shadow:this.shadow,void 0!=n.showLine?n.showLine:this.showLine,void 0!=n.fill?n.fill:this.fill;var d=s.canvas.width,c=s.canvas.height;null==this.padding&&(this.padding=Math.round(Math.min(d,c)/30));var u=d-r-2*this.padding,g=c-a-2*this.padding;"bottom"==this.labelPosition&&this.label&&(g-=this._labelElem.outerHeight(!0));var k=Math.min(u,g);if(this.diameter||(this.semiCircular?(u>=2*g?(this.ringWidth||(this.ringWidth=2*g/35),this.needleThickness=this.needleThickness||2+Math.pow(this.ringWidth,.8),this.innerPad=this.ringWidth/2+this.needleThickness/2+this.needlePad,this.diameter=2*(g-2*this.innerPad)):(this.ringWidth||(this.ringWidth=u/35),this.needleThickness=this.needleThickness||2+Math.pow(this.ringWidth,.8),this.innerPad=this.ringWidth/2+this.needleThickness/2+this.needlePad,this.diameter=u-2*this.innerPad-this.ringWidth-this.padding),this._center=[(d-l*r)/2+l*r,c+l*a-this.padding-this.ringWidth-this.innerPad]):(this.ringWidth||(this.ringWidth=k/35),this.needleThickness=this.needleThickness||2+Math.pow(this.ringWidth,.8),this.innerPad=0,this.diameter=k-this.ringWidth,this._center=[(d-l*r)/2+l*r,(c-l*a)/2+l*a]),this._labelElem&&"bottom"==this.labelPosition&&(this._center[1]-=this._labelElem.outerHeight(!0))),this._radius=this.diameter/2,this.tickSpacing=6e3/this.diameter,this.hubRadius||(this.hubRadius=this.diameter/18),this.shadowOffset=.5+this.ringWidth/9,this.shadowWidth=1*this.ringWidth,this.tickPadding=3+Math.pow(this.diameter/20,.7),this.tickOuterRadius=this._radius-this.ringWidth/2-this.tickPadding,this.tickLength=this.showTicks?this._radius/13:0,0==this.ticks.length){var p=this.max,m=this.min,f=this.setmax,b=this.setmin,v=(p-m)*this.tickSpacing/this.span,M=Math.floor(parseFloat((Math.log(v)/Math.log(10)).toFixed(11)));at=(at=v/Math.pow(10,M))>2&&at<=2.5?2.5:Math.ceil(at);var P,T,w=this.tickPositions;for(Z=0;Z<w.length;Z++)(at==w[Z]||Z&&w[Z-1]<at&&at<w[Z])&&(v=w[Z]*Math.pow(10,M),P=Z);for(Z=0;Z<w.length;Z++)(at==w[Z]||Z&&w[Z-1]<at&&at<w[Z])&&(v=w[Z]*Math.pow(10,M),T=Math.ceil((p-m)/v));if(f&&b){var R=m>0?m-m%v:m-m%v-v;if(!this.forceZero){var x=Math.min(m-R,.8*v),_=Math.floor(x/w[P]);_>1&&(R+=w[P]*(_-1),parseInt(R,10)!=R&&parseInt(R-w[P],10)==R-w[P]&&(R-=w[P]))}for(m==R?m-=v:m-R>.23*v?m=R:(m=R-v,T+=1),p>=(j=m+((T+=1)-1)*v)&&(j+=v,T+=1),j-p<.23*v&&(j+=v,T+=1),this.max=p=j,this.min=m,this.tickInterval=v,this.numberTicks=T,Z=0;Z<T;Z++)G=parseFloat((m+Z*v).toFixed(11)),this.ticks.push([G,G]);this.max=this.ticks[T-1][1],this.tickFactor=M,this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor-1))}else if(f){var j;for(p>=(j=m+(T-1)*v)?(p=j+v,T+=1):p=j,this.tickInterval=this.tickInterval||v,this.numberTicks=this.numberTicks||T,Z=0;Z<this.numberTicks;Z++)G=parseFloat((m+Z*this.tickInterval).toFixed(11)),this.ticks.push([G,G]);this.max=this.ticks[this.numberTicks-1][1],this.tickFactor=M,this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor-1))}if(!f&&!b){var q=this.max-this.min;M=Math.floor(parseFloat((Math.log(q)/Math.log(10)).toFixed(11)))-1;var I,y,G,W=[5,6,4,7,3,8,9,10,2],A=0;if(q>1){var L=String(q);if(-1==L.search(/\./)){var C=L.search(/0+$/);A=C>0?L.length-C-1:0}}for(y=q/Math.pow(10,A),Z=0;Z<W.length;Z++)if((I=y/(W[Z]-1))==parseInt(I,10)){this.numberTicks=W[Z],this.tickInterval=q/(this.numberTicks-1),this.tickFactor=M+1;break}for(Z=0;Z<this.numberTicks;Z++)G=parseFloat((this.min+Z*this.tickInterval).toFixed(11)),this.ticks.push([G,G]);if(this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=i(this.tickPositions,this.tickInterval,this.tickFactor-1)),!this.numberMinorTicks){this.numberMinorTicks=1;var F=[4,5,3,6,2];for(Z=0;Z<5;Z++){var S=this.tickInterval/F[Z];if(S==parseInt(S,10)){this.numberMinorTicks=F[Z]-1;break}}}}}var D=this._radius,E=this.startAngle,O=this.endAngle;Math.PI,Math.PI;if(this.semiCircular){var H=Math.atan(this.innerPad/D),B=this.outerStartAngle=E-H,z=this.outerEndAngle=O+H,N=this.hubStartAngle=E-Math.atan(this.innerPad/this.hubRadius*2),J=this.hubEndAngle=O+Math.atan(this.innerPad/this.hubRadius*2);s.save(),s.translate(this._center[0],this._center[1]),s.lineJoin="round",s.lineCap="round",s.save(),s.beginPath(),s.fillStyle=this.background,s.arc(0,0,D,B,z,!1),s.closePath(),s.fill(),s.restore();var Q="rgba(0,0,0,"+this.shadowAlpha+")";s.save();for(var Z=0;Z<this.shadowDepth;Z++)s.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),s.beginPath(),s.strokeStyle=Q,s.lineWidth=this.shadowWidth,s.arc(0,0,D,B,z,!1),s.closePath(),s.stroke();s.restore(),s.save();var $=parseInt((this.shadowDepth+1)/2,10);for(Z=0;Z<$;Z++)s.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),s.beginPath(),s.fillStyle=Q,s.arc(0,0,this.hubRadius,N,J,!1),s.closePath(),s.fill();if(s.restore(),s.save(),s.beginPath(),s.strokeStyle=this.ringColor,s.lineWidth=this.ringWidth,s.arc(0,0,D,B,z,!1),s.closePath(),s.stroke(),s.restore(),s.save(),s.beginPath(),s.fillStyle=this.ringColor,s.arc(0,0,this.hubRadius,N,J,!1),s.closePath(),s.fill(),s.restore(),this.showTicks){s.save();var K=this.tickOuterRadius,U=this.tickLength,V=U/2,X=this.numberMinorTicks,Y=this.span*Math.PI/180/(this.ticks.length-1),tt=Y/(X+1);for(Z=0;Z<this.ticks.length;Z++){s.beginPath(),s.lineWidth=1.5+this.diameter/360,s.strokeStyle=this.ringColor;if(s.moveTo(-K*Math.cos(Y*Z+E),K*Math.sin(Y*Z+E)),s.lineTo(-(K-U)*Math.cos(Y*Z+E),(K-U)*Math.sin(Y*Z+E)),this._tickPoints.push([(K-U)*Math.cos(Y*Z+E)+this._center[0]+this.canvas._offsets.left,(K-U)*Math.sin(Y*Z+E)+this._center[1]+this.canvas._offsets.top,Y*Z+E]),s.stroke(),s.lineWidth=1+this.diameter/440,Z<this.ticks.length-1)for(var it=1;it<=X;it++)s.beginPath(),s.moveTo(-K*Math.cos(Y*Z+tt*it+E),K*Math.sin(Y*Z+tt*it+E)),s.lineTo(-(K-V)*Math.cos(Y*Z+tt*it+E),(K-V)*Math.sin(Y*Z+tt*it+E)),s.stroke()}s.restore()}if(this.showTickLabels){var st,et,ht,nt,rt=0,at=this.tickPadding*(1-1/(this.diameter/80+1));for(Z=0;Z<this.ticks.length;Z++)st=t('<div class="jqplot-meterGauge-tick" style="position:absolute;">'+this.ticks[Z][1]+"</div>"),this.canvas._elem.after(st),et=st.outerWidth(!0),ht=st.outerHeight(!0),lt=this._tickPoints[Z][0]-et*(this._tickPoints[Z][2]-Math.PI)/Math.PI-at*Math.cos(this._tickPoints[Z][2]),w=this._tickPoints[Z][1]-ht/2+ht/2*Math.pow(Math.abs(Math.sin(this._tickPoints[Z][2])),.5)+at/3*Math.pow(Math.abs(Math.sin(this._tickPoints[Z][2])),.5),st.css({left:lt,top:w,color:this.tickColor}),rt=(nt=et*Math.cos(this._tickPoints[Z][2])+ht*Math.sin(Math.PI/2+this._tickPoints[Z][2]/2))>rt?nt:rt}if(this.label&&"inside"==this.labelPosition){var lt=this._center[0]+this.canvas._offsets.left;at=this.tickPadding*(1-1/(this.diameter/80+1)),w=.5*(this._center[1]+this.canvas._offsets.top-this.hubRadius)+.5*(this._center[1]+this.canvas._offsets.top-this.tickOuterRadius+this.tickLength+at)+this.labelHeightAdjust;lt-=this._labelElem.outerWidth(!0)/2,w-=this._labelElem.outerHeight(!0)/2,this._labelElem.css({left:lt,top:w})}else if(this.label&&"bottom"==this.labelPosition){lt=this._center[0]+this.canvas._offsets.left-this._labelElem.outerWidth(!0)/2,w=this._center[1]+this.canvas._offsets.top+this.innerPad+this.ringWidth+this.padding+this.labelHeightAdjust;this._labelElem.css({left:lt,top:w})}s.save();var ot=this.intervalInnerRadius||1.5*this.hubRadius;if(null==this.intervalOuterRadius)if(this.showTickLabels)var dt=this.tickOuterRadius-this.tickLength-this.tickPadding-this.diameter/8;else dt=this.tickOuterRadius-this.tickLength-this.diameter/16;else dt=this.intervalOuterRadius;q=this.max-this.min,this.intervals[this.intervals.length-1],this.min;var ct,ut,gt=this.span*Math.PI/180;for(Z=0;Z<this.intervals.length;Z++)(ct=0==Z?E:E+(this.intervals[Z-1][0]-this.min)*gt/q)<0&&(ct=0),(ut=E+(this.intervals[Z][0]-this.min)*gt/q)<0&&(ut=0),s.beginPath(),s.fillStyle=this.intervals[Z][2],s.arc(0,0,ot,ct,ut,!1),s.lineTo(dt*Math.cos(ut),dt*Math.sin(ut)),s.arc(0,0,dt,ut,ct,!0),s.lineTo(ot*Math.cos(ct),ot*Math.sin(ct)),s.closePath(),s.fill();s.restore();var kt=this.data[0][1],pt=this.max-this.min;this.pegNeedle&&(this.data[0][1]>this.max+3*pt/this.span&&(kt=this.max+3*pt/this.span),this.data[0][1]<this.min-3*pt/this.span&&(kt=this.min-3*pt/this.span));var mt=(kt-this.min)/pt*this.span*Math.PI/180+this.startAngle;s.save(),s.beginPath(),s.fillStyle=this.ringColor,s.strokeStyle=this.ringColor,this.needleLength=.85*(this.tickOuterRadius-this.tickLength),this.needleThickness=this.needleThickness<2?2:this.needleThickness;var ft,bt=.4*this.needleThickness,vt=this.needleLength/10,Mt=(this.needleThickness-bt)/10;for(Z=0;Z<10;Z++)ft=this.needleThickness-Z*Mt,s.moveTo(vt*Z*Math.cos(mt),vt*Z*Math.sin(mt)),s.lineWidth=ft,s.lineTo(vt*(Z+1)*Math.cos(mt),vt*(Z+1)*Math.sin(mt)),s.stroke();s.restore()}else this._center=[(d-l*r)/2+l*r,(c-l*a)/2+l*a]},t.jqplot.MeterGaugeAxisRenderer=function(){t.jqplot.LinearAxisRenderer.call(this)},t.jqplot.MeterGaugeAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.MeterGaugeAxisRenderer.prototype.constructor=t.jqplot.MeterGaugeAxisRenderer,t.jqplot.MeterGaugeAxisRenderer.prototype.init=function(i){this.tickRenderer=t.jqplot.MeterGaugeTickRenderer,t.extend(!0,this,i),this._dataBounds={min:0,max:100},this.min=0,this.max=100,this.showTicks=!1,this.ticks=[],this.showMark=!1,this.show=!1},t.jqplot.MeterGaugeLegendRenderer=function(){t.jqplot.TableLegendRenderer.call(this)},t.jqplot.MeterGaugeLegendRenderer.prototype=new t.jqplot.TableLegendRenderer,t.jqplot.MeterGaugeLegendRenderer.prototype.constructor=t.jqplot.MeterGaugeLegendRenderer,t.jqplot.MeterGaugeLegendRenderer.prototype.init=function(i){this.numberRows=null,this.numberColumns=null,t.extend(!0,this,i)},t.jqplot.MeterGaugeLegendRenderer.prototype.draw=function(){if(this.show){var i=this._series,s="position:absolute;";s+=this.background?"background:"+this.background+";":"",s+=this.border?"border:"+this.border+";":"",s+=this.fontSize?"font-size:"+this.fontSize+";":"",s+=this.fontFamily?"font-family:"+this.fontFamily+";":"",s+=this.textColor?"color:"+this.textColor+";":"",s+=null!=this.marginTop?"margin-top:"+this.marginTop+";":"",s+=null!=this.marginBottom?"margin-bottom:"+this.marginBottom+";":"",s+=null!=this.marginLeft?"margin-left:"+this.marginLeft+";":"",s+=null!=this.marginRight?"margin-right:"+this.marginRight+";":"",this._elem=t('<table class="jqplot-table-legend" style="'+s+'"></table>');var e,h,n=i[0];if(n.show){var r,a,l,o,d,c,u,g,k=n.data;this.numberRows?(e=this.numberRows,h=this.numberColumns?this.numberColumns:Math.ceil(k.length/e)):this.numberColumns?(h=this.numberColumns,e=Math.ceil(k.length/this.numberColumns)):(e=k.length,h=1);var p=0;for(r=0;r<e;r++)for(l=t('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem),a=0;a<h;a++)p<k.length&&(c=this.labels[p]||k[p][0].toString(),g=n.color,u=r>0?this.rowSpacing:"0",o=t('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+u+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+g+';"></div></div></td>'),d=t('<td class="jqplot-table-legend" style="padding-top:'+u+';"></td>'),this.escapeHtml?d.text(c):d.html(c),o.appendTo(l),d.appendTo(l),!0),p++}}return this._elem},t.jqplot.preInitHooks.push(function(i,s,e){(e=e||{}).axesDefaults=e.axesDefaults||{},e.legend=e.legend||{},e.seriesDefaults=e.seriesDefaults||{},e.grid=e.grid||{};var h=!1;if(e.seriesDefaults.renderer==t.jqplot.MeterGaugeRenderer)h=!0;else if(e.series)for(var n=0;n<e.series.length;n++)e.series[n].renderer==t.jqplot.MeterGaugeRenderer&&(h=!0);h&&(e.axesDefaults.renderer=t.jqplot.MeterGaugeAxisRenderer,e.legend.renderer=t.jqplot.MeterGaugeLegendRenderer,e.legend.preDraw=!0,e.grid.background=e.grid.background||"white",e.grid.drawGridlines=!1,e.grid.borderWidth=null!=e.grid.borderWidth?e.grid.borderWidth:0,e.grid.shadow=null!=e.grid.shadow&&e.grid.shadow)}),t.jqplot.postParseOptionsHooks.push(function(t){}),t.jqplot.MeterGaugeTickRenderer=function(){t.jqplot.AxisTickRenderer.call(this)},t.jqplot.MeterGaugeTickRenderer.prototype=new t.jqplot.AxisTickRenderer,t.jqplot.MeterGaugeTickRenderer.prototype.constructor=t.jqplot.MeterGaugeTickRenderer}(jQuery);