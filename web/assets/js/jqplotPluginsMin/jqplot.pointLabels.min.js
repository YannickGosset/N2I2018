!function(t){t.jqplot.PointLabels=function(e){this.show=t.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=t.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],t.extend(!0,this,e)};var e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},s=["se","s","sw","w","nw","n","ne","e"];t.jqplot.PointLabels.init=function(e,s,i,a,l){var o=t.extend(!0,{},i,a);o.pointLabels=o.pointLabels||{},this.renderer.constructor!==t.jqplot.BarRenderer||"horizontal"!==this.barDirection||o.pointLabels.location||(o.pointLabels.location="e"),this.plugins.pointLabels=new t.jqplot.PointLabels(o.pointLabels),this.plugins.pointLabels.setLabels.call(this)},t.jqplot.PointLabels.prototype.setLabels=function(){var e,s=this.plugins.pointLabels;if(e=null!=s.seriesLabelIndex?s.seriesLabelIndex:this.renderer.constructor===t.jqplot.BarRenderer&&"horizontal"===this.barDirection?this._plotData[0].length<3?0:this._plotData[0].length-1:0===this._plotData.length?0:this._plotData[0].length-1,s._labels=[],0===s.labels.length||s.labelsFromSeries)if(s.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var i=0;i<this._plotData.length;i++)s._labels.push(this._plotData[i][e])}else{var a=this.data;if(this.renderer.constructor===t.jqplot.BarRenderer&&this.waterfall&&(a=this._data),a.length&&a[0].length)for(i=0;i<a.length;i++)s._labels.push(a[i][e]);a=null}else s.labels.length&&(s._labels=s.labels)},t.jqplot.PointLabels.prototype.xOffset=function(t,e,s){var i;switch(e=e||this.location,s=s||this.xpadding,e){case"nw":i=-t.outerWidth(!0)-this.xpadding;break;case"n":i=-t.outerWidth(!0)/2;break;case"ne":case"e":case"se":i=this.xpadding;break;case"s":i=-t.outerWidth(!0)/2;break;case"sw":case"w":default:i=-t.outerWidth(!0)-this.xpadding}return i},t.jqplot.PointLabels.prototype.yOffset=function(t,e,s){var i;switch(e=e||this.location,s=s||this.xpadding,e){case"nw":case"n":case"ne":i=-t.outerHeight(!0)-this.ypadding;break;case"e":i=-t.outerHeight(!0)/2;break;case"se":case"s":case"sw":i=this.ypadding;break;case"w":i=-t.outerHeight(!0)/2;break;default:i=-t.outerHeight(!0)-this.ypadding}return i},t.jqplot.PointLabels.draw=function(i,a,l){var o=this.plugins.pointLabels;o.setLabels.call(this);for(var r=0;r<o._elems.length;r++)o._elems[r]&&o._elems[r].emptyForce();if(o._elems.splice(0,o._elems.length),o.show){var n="_"+this._stackAxis+"axis";o.formatString||(o.formatString=this[n]._ticks[0].formatString,o.formatter=this[n]._ticks[0].formatter);for(var h,p,c=this._plotData,d=(this._prevPlotData,this._xaxis),b=this._yaxis,g=(r=0,o._labels.length);r<g;r++){var u=o._labels[r];if(!(null==u||o.hideZeros&&0==parseFloat(u))){u=o.formatter(o.formatString,u),p=document.createElement("div"),o._elems[r]=t(p),(h=o._elems[r]).addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+r),h.css("position","absolute"),h.insertAfter(i.canvas),o.escapeHTML?h.text(u):h.html(u);var f=o.location;(this.fillToZero&&c[r][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&c[r][0]<0||(this.waterfall&&parseInt(u,10))<0)&&(f=s[e[f]]);var _=d.u2p(c[r][0])+o.xOffset(h,f),L=b.u2p(c[r][1])+o.yOffset(h,f);this._stack&&!o.stackedValue&&("vertical"===this.barDirection?L=(this._barPoints[r][0][1]+this._barPoints[r][1][1])/2+l._gridPadding.top-.5*h.outerHeight(!0):_=(this._barPoints[r][2][0]+this._barPoints[r][0][0])/2+l._gridPadding.left-.5*h.outerWidth(!0)),this.renderer.constructor==t.jqplot.BarRenderer&&("vertical"==this.barDirection?_+=this._barNudge:L-=this._barNudge),h.css("left",_),h.css("top",L);var m=_+h.width(),v=L+h.height(),w=o.edgeTolerance,j=t(i.canvas).position().left,q=t(i.canvas).position().top,x=i.canvas.width+j,k=i.canvas.height+q;(_-w<j||L-w<q||m+w>x||v+w>k)&&h.remove(),h=null,p=null}}}},t.jqplot.postSeriesInitHooks.push(t.jqplot.PointLabels.init),t.jqplot.postDrawSeriesHooks.push(t.jqplot.PointLabels.draw)}(jQuery);